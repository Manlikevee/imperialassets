<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Market Information| Imperial Asset Managers Limited – We are Imperial….Proudly Imperial</title>
    <title>Imperial Asset Managers Limited – We are Imperial….Proudly Imperial</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>
<body>


    <div class="overlay" id="overlay"></div>

    <!-- Popup -->




    <header>
        <div class="containers" id="header">
            <a href="iamlhome.html" class="logo">
                <img src="assets/IAML Logo-01.png" alt="">
            </a>
            <div class="menu-toggle" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <div class="links">
                <a href="about_iaml.html">About</a>
                <!-- <a href="services.html">Services</a> -->
                <div class="menu">
                    <a onclick="openDropDown()" class="businessLink" href="#">Services <img class="arrow"
                            src="./assets/arrowdown.svg" alt=""></a>
                    <div class="dropDown">
                        <a href="securitytrading.html">Security Trading</a>
                        <a href="advisoryservice.html">Advisory Service</a>
                
                    </div>
                </div>
                <a href="careers.html">Careers</a>
                <a href="e-trader.html">E-Trader</a>
           <a href="login.html" class="login">Login</a>
           <a href="etraderform.html" class="register">Signup</a>
            </div>
        </div>
        <iframe style="overflow: hidden;" src="https://dataex.nasdotcng.com/market_snapshot2/price_ticker" width="100%" height="30" scrolling="no"><span style="display: inline-block; width: 0px; overflow: hidden; line-height: 0;" data-mce-type="bookmark" class="mce_SELRES_start">&#xFEFF;</span></iframe>
    </header>

  
<style>
    .dropDown{
        width: 200px;
    }
</style>

    <script>
        function toggleMenu() {
            const links = document.querySelector('.links');
            links.classList.toggle('active');
        }

        function openDropDown() {
            const dropDown = document.querySelector(".dropDown")
            dropDown.classList.toggle("open")
        }
    </script>

    <div class="ovl">

    </div>
<main class="white">


        
            
            <div class="containers">
<style>
    table {
    border-collapse: collapse;
    width: 100%;
    font-family: Arial, sans-serif;
}

table, th, td {
    border: 1px solid #ccc;
}

th, td {
    padding: 10px;
    text-align: center;
}

thead {
    background-color: #f2f2f2;
}

tr:nth-child(even) {
    background-color: #f2f2f2;
}

tr:nth-child(odd) {
    background-color: #fff;
}

th {
    background-color: #fcf8e3;
    color: #252525;
}

th, td {
    font-size: 14px;
}

td {
    font-weight: 600;
    text-align: left;
}

/* Apply specific styles to the % Change column based on the value */
.loosrs td:nth-child(6) {
    color: white;
    background-color: #e31616;
    padding: 5px;
}

td:nth-child(5) {
  display: none;
}
td:nth-child(5) {
    display: none;
  }
td:nth-child(6):before {
    content: attr(data-content);
}
.capitaltable table tr:nth-child(n+6) {
    display: none;
  }

.gainers td:nth-child(6) {
    color: white;
    background-color: #19d241;
    padding: 5px;
}

.tabletabs{
    display: flex;
}

.active{
    background-color: white;
    color: black;
}

</style>



<br>
<h2>Market Update as at <span id="marketdate">-</span></h2>
<br>
<div class="tableflex">
    <div class="tablehead">
        We provide daily market update of market performance in gains and loses of various company.
    </div>
    <div class="tablebtn links">
        <a href="#csvTable" class="toggle-btn register" id="fullreport-btn">Full Market Report</a>
        <a href="#" class="toggle-btn login" id="gainers-btn">Top Gainers</a>
        <a href="#" class="toggle-btn register" id="losers-btn">Top Losers</a>  
    </div>
</div>

<div id="gainers-tables" style="overflow-x:auto;">
    <table id="gainers-table">
        <thead>
          <tr>
            <th>S/N</th>
            <th>COMPANY</th>
            <th>PCLOSE</th>
            <th>OPEN</th>
            <th>HIGH</th>
            <th>LOW</th>
            <th>CLOSE</th>
            <th>NAIRA</th>
            <th>CHANGE</th>
    
            <th>VOLUME</th>
            <th>VALUE</th>
            <th>TRADE DATE</th>
          </tr>
        </thead>
        <tbody>
          <!-- Data rows will be added here dynamically -->
        </tbody>
      </table>
</div>


<div id="losers-tables" style="overflow-x:auto;">

    <table id="losers-table">
        <thead>
          <tr>
            <th>S/N</th>
            <th>COMPANY</th>
            <th>PCLOSE</th>
            <th>OPEN</th>
            <th>HIGH</th>
            <th>LOW</th>
            <th>CLOSE</th>
            <th>NAIRA</th>
            <th>CHANGE</th>
    
            <th>VOLUME</th>
            <th>VALUE</th>
            <th>TRADE DATE</th>
          </tr>
        </thead>
        <tbody>
          <!-- Data rows will be added here dynamically -->
        </tbody>
      </table>
</div>



<br>

<div style="overflow-x:auto; display: none;">
    <h2>Capital Market Report</h2>
    <table id="csvTable">
        <thead>
            <tr>
              <th>S/N</th>
              <th>COMPANY</th>
              <th>PCLOSE</th>
              <th>OPEN</th>
              <th>HIGH</th>
              <th>LOW</th>
              <th>CLOSE</th>
              <th>NAIRA</th>
              <th>CHANGE</th>
              <th>DEALS</th>
              <th>VOLUME</th>
              <th>VALUE</th>
            </tr>
          </thead>
        <tbody>
          <!-- Data rows will be added here dynamically -->
        </tbody>
      </table>
    </div>

<script>

async function fetchAndDisplayData() {
  try {
    const response = await fetch('https://finmktapi.issl.ng/market_data');
    const data = await response.json();

    // Filter the product_class to find the "Equities_Price_List"
    const equitiesData = data.find(item => item.product_class === "Equities_Price_List");

    if (equitiesData) {
      // Get the product data from the selected item
      const productData = equitiesData.product_data;
      console.log(productData)

      // Select the table body
      const tableBody = document.querySelector('#csvTable tbody');

      // Loop through the productData array and create a table row for each item
      productData.forEach((item, index) => {
        const row = `
          <tr>
            <td>${index + 1}</td>
            <td>${item.Company2.trim()}</td>
            <td>${item.PrevClosingPrice}</td>
            <td>${item.OpeningPrice}</td>
            <td>${item.HighPrice || '-'}</td>
            <td>${item.LowPrice || '-'}</td>
            <td>${item.ClosePrice}</td>
            <td>₦${item.ClosePrice}</td>
            <td>${(item.ClosePrice - item.PrevClosingPrice).toFixed(2)}</td>
            <td></td>
            <td>${item.Trades}</td>
          
            <td>₦${item.Volume}</td>
            <td>₦${item.Value}</td>
          </tr>
        `;

        // Append the row to the table
        tableBody.innerHTML += row;
      });
    } else {
      console.error("No Equities_Price_List found in the API response.");
    }
  } catch (error) {
    console.error("Error fetching data:", error);
  }
}

// Call the function to fetch and display data
fetchAndDisplayData();

// Function to fetch and display Top Gainers data
async function fetchAndDisplayTopGainers() {
  try {
    const response = await fetch('https://finmktapi.issl.ng/market_data');
    const data = await response.json();

    // Filter the product_class to find the "Top_Gainers" and "Top_Losers"
    const topGainersData = data.find(item => item.product_class === "Top_Gainers");
    const topLosersData = data.find(item => item.product_class === "Top_Losers");

    if (topGainersData && topLosersData) {
        document.getElementById('marketdate').innerHTML = new Date(topGainersData.as_at).toLocaleDateString(); 
      // Get the product data from the selected items
      const gainersProductData = topGainersData.product_data;
      const losersProductData = topLosersData.product_data;

      // Select the table bodies
      const gainersTableBody = document.querySelector('#gainers-table tbody');
      const losersTableBody = document.querySelector('#losers-table tbody');

      // Function to create table rows
      const createTableRow = (item, index) => `
      <tr>
            <td>${index + 1}</td>
            <td>${item.Company2.trim()}</td>
            <td>${item.PrevClosingPrice}</td>
            <td>${item.OpeningPrice}</td>
            <td>${item.HighPrice || '-'}</td>
            <td>${item.LowPrice || '-'}</td>
            <td>${item.ClosePrice}</td>
            <td>₦${item.ClosePrice}</td>
            <td>${item.Change}</td>
            <td>${item.Trades}</td>
            <td>${item.Volume}</td>
            <td>₦${item.Value}</td>
            <td>${new Date(item.TradeDate).toLocaleDateString()}</td>
          </tr>
      `;

      // Populate the gainers table
      gainersTableBody.innerHTML = gainersProductData.map(createTableRow).join('');

      // Populate the losers table
      losersTableBody.innerHTML = losersProductData.map(createTableRow).join('');

    } else {
      console.error("No Top_Gainers or Top_Losers found in the API response.");
    }
  } catch (error) {
    console.error("Error fetching data:", error);
  }
}

fetchAndDisplayTopGainers();









    document.getElementById('gainers-btn').addEventListener('click', function(e) {
    e.preventDefault();
    document.getElementById('gainers-tables').style.display = 'block';
    document.getElementById('losers-tables').style.display = 'none';
    this.classList.add('active');
    document.getElementById('losers-btn').classList.remove('active');
});

document.getElementById('losers-btn').addEventListener('click', function(e) {
    e.preventDefault();
    document.getElementById('gainers-tables').style.display = 'none';
    document.getElementById('losers-tables').style.display = 'block';
    this.classList.add('active');
    document.getElementById('gainers-btn').classList.remove('active');
});
</script>

</div>
<br>
<br>





        <footer>


            <div class="containers">
                <div class="footersec">
                    <div class="footertop">Explore</div>
                    <div class="footerbtm">
                        <a href="about.html">
                            About
    
                        </a>
                        <a href="services.html">
    
                            Board of Directors
    
                        </a>
                        <a href="services.html">
    
                            Management
    
                        </a>
                        <a href="careers.html">
    
                            Careers
                        </a>
    
                    </div>
                </div>
    
                <div class="footersec">
                    <div class="footertop">Our Businesses</div>
                    <div class="footerbtm">
                        <a href="iaml.html">Imperial Asset Managers Limited</a>
                        <a href="ical.html">Imperial Capital Advisers Limited</a>
    
    
    
                    </div>
                </div>
    
                <div class="footersec">
                    <div class="footertop">Our Newsfeed</div>
                    <div class="footerbtm">
                        <a href=""> All News</a>
                        <a href="research.html">Research and Insights</a>
                        <a href="">Blog</a>
                        <a href="">Policies</a>
                        <a href="">Terms & Conditions</a>
                    </div>
                </div>
    
    
                <div class="footersec">
                    <div class="footertop">Subscribe to our newsletter</div>
                    <div class="footerbtm">
                        Weekly email about trends shaping markets, industries and the global
                        economy.
                    </div>
                    <input type="text" class="footerinput">
                    <button>Submit</button>
                </div>
    
    
                <div class="footersec">
                    <div class="footertop">Office Address</div>
                    <div class="footerbtm">
                        <a href=""><b>Lagos Office:</b></a>
                        <a href="">THE EBENEZER PLACE 148A, Ikeja Way Off Association Road Dolphin Estate, Ikoyi, Lagos.</a>
    
                    </div>
                </div>
    
                <div class="footersec">
                    <div class="footertop">Reach Us</div>
                    <div class="footerbtm">
                        <a href=""><b>Send a Message</b></a>
                        <a href="mailto:talk2us@imperialasset.com.ng">talk2us@imperialasset.com.ng</a>
                        <a href="#">
    
    
                            234 -1- 4637483, 08067035949, 09125007249
    
                        </a>
    
                    </div>
                </div>
                <div class="footersec">
                    <img src="assets/COMP.png" alt="">
                </div>
            </div>
        </footer>




<script>
document.querySelectorAll('.faqhead').forEach(faqhead => {
    faqhead.addEventListener('click', function() {
        const faqbody = this.nextElementSibling;

        if (faqbody.style.display === 'block') {
            faqbody.style.display = 'none';
            this.querySelector('span').innerHTML = 'expand_circle_down';
        } else {
            faqbody.style.display = 'block';
            this.querySelector('span').innerHTML = 'expand_less';
        }
    });
});
const servicedata = [
    {
        tag: "Explore",
        text: "Our Services",
        img: "assets/service (3).png",
    },
    {
        tag: "Explore",
        text: "Bonds",
        img: "assets/service (4).png",
    },
    {
        tag: "Explore",
        text: "Equities",
        img: "assets/service (5).png",
    },
    {
        tag: "Explore",
        text: "Exchange Traded Funds",
        img: "assets/service (1).png",
    },
    {
        tag: "Explore",
        text: "Mutual Funds",
        img: "assets/service (2).png",
    },

]

const blogdata = [
{
        title: "From the GMD’s Desk: Introducing Babjide, Our New Business Head, Asset Management",
        body: "Dear Client, The last few months have witnessed many exciting and celebratory moments for Imperial Asset serving you, our valued customer. We attained new heights, and celebrated major milestones in marking ...",
        img: "assets/blog (1).png",
    }, 
    {
        title: "Recent news about security Trading",
        body: "Back-to-school season is around the corner. While it is an exciting time for children to reunite with their friends and parents, to get a much-needed break during the day, it ...",
        img: "assets/blog (2).png",
    }, 
    {
        title: "Capitalizing on the Current Nigerian Stock Market Boom  ",
        body: "In the ever-evolving landscape of financial markets, one adage remains resoundingly true: “Time in the market beats timing the market.” As recent developments ignite a stock market boom in Nigeria, ...",
        img: "assets/blog (3).png",
    }, 
]


function createblogcard(dataArray) {
    const bloggrid = document.getElementById('bloggrid');
    let cardsHTML = '';

    dataArray.forEach(data => {
    
        cardsHTML += `

        <div class="blogcard">
    <div class="serviceimg">
        <img src="${data.img}" alt="${data.text}">
    </div>
    <div class="blogtitle">
        ${data.title}
    </div>
    <div class="blogbody">
        ${data.body}
    </div>
</div>

        `;
    });

    bloggrid.innerHTML = cardsHTML;
}



createblogcard(blogdata)

    function createservicedata(dataArray) {
    const servicegrid = document.getElementById('servicegrid');
    let cardsHTML = '';

    dataArray.forEach(data => {
    
        cardsHTML += `
        <div class="servicebox">
    <div class="serviceimg">
        <img src="${data.img}" alt="${data.text}">
    </div>
    <div class="servicetag">${data.tag}</div>
    <div class="servicetext">${data.text}</div>
</div>
        `;
    });

    servicegrid.innerHTML = cardsHTML;
}

createservicedata(servicedata);
</script>

</body>
</html>